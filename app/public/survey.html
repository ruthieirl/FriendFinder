<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Friend Finder Survey</title>
	<!--linking Bootstrap-->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
	<style>
		.jumbotron {
			margin-top: 30px;
		    background-color: #fff;
		    border: 2px solid #5bc0de;
		} 
		.soft {
		    -moz-border-radius: 6px;
		    -webkit-border-radius: 6px;
		    border-radius: 6px;
		    border: 1px solid #ccc;  
		}
		.modal-content {
			border: 2px solid #5bc0de;
		}
		.blue {
			color: #5bc0de;
		}
	</style>
</head>
<body>
	<div class="container">
		<div class="jumbotron">
			<h2 class="text-center"><span class="glyphicon glyphicon-list"></span> Survey Questions</h2>
			<hr>
			<div class="form-group">
				<h3><strong>About You</strong></h3>
				<label>Name (required)</label>
				<input type="text" name="name" id="name" class="form-control" required>
				<br>
				<label>Link to Photo Image (required)</label>
				<input type="text" name="photo" id="photo" class="form-control" required>
			</div><!--form-group-->
			<hr>
			<div class="form-group">
				<h3><strong>Question 1</strong></h3>
				<h4>I would rather live alone than to have a roommate.</h4>
			 	<select data-placeholder="" class="chosen-select soft" id="q1">
			 		<option value=""></option>
		            <option value="1">1 (Strongly Disagree)</option>
		            <option value="2">2</option>
		            <option value="3">3</option>
		            <option value="4">4</option>
		            <option value="5">5 (Strongly Agree)</option>
		      	</select>
            </div><!--form-group-->
            <div class="form-group">
				<h3><strong>Question 2</strong></h3>
				<h4>I prefer cooking at home over eating out.</h4>
			 	<select data-placeholder="" class="chosen-select soft" id="q2">
			 		<option value=""></option>
		            <option value="1">1 (Strongly Disagree)</option>
		            <option value="2">2</option>
		            <option value="3">3</option>
		            <option value="4">4</option>
		            <option value="5">5 (Strongly Agree)</option>
		      	</select>
            </div><!--form-group-->
            <div class="form-group">
				<h3><strong>Question 3</strong></h3>
				<h4>I cannot function without my cellphone.</h4>
			 	<select data-placeholder="" class="chosen-select soft" id="q3">
			 		<option value=""></option>
		            <option value="1">1 (Strongly Disagree)</option>
		            <option value="2">2</option>
		            <option value="3">3</option>
		            <option value="4">4</option>
		            <option value="5">5 (Strongly Agree)</option>
		      	</select>
            </div><!--form-group-->
            <div class="form-group">
				<h3><strong>Question 4</strong></h3>
				<h4>Social media is the devil.</h4>
			 	<select data-placeholder="" class="chosen-select soft" id="q4">
			 		<option value=""></option>
		            <option value="1">1 (Strongly Disagree)</option>
		            <option value="2">2</option>
		            <option value="3">3</option>
		            <option value="4">4</option>
		            <option value="5">5 (Strongly Agree)</option>
		      	</select>
            </div><!--form-group-->
            <div class="form-group">
				<h3><strong>Question 5</strong></h3>
				<h4>I don't like planning.  I prefer being spontaneous.</h4>
			 	<select data-placeholder="" class="chosen-select soft" id="q5">
			 		<option value=""></option>
		            <option value="1">1 (Strongly Disagree)</option>
		            <option value="2">2</option>
		            <option value="3">3</option>
		            <option value="4">4</option>
		            <option value="5">5 (Strongly Agree)</option>
		      	</select>
            </div><!--form-group-->
            <div class="form-group">
				<h3><strong>Question 6</strong></h3>
				<h4>My desk is always super organized.</h4>
			 	<select data-placeholder="" class="chosen-select soft" id="q6">
			 		<option value=""></option>
		            <option value="1">1 (Strongly Disagree)</option>
		            <option value="2">2</option>
		            <option value="3">3</option>
		            <option value="4">4</option>
		            <option value="5">5 (Strongly Agree)</option>
		      	</select>
            </div><!--form-group-->
            <div class="form-group">
				<h3><strong>Question 7</strong></h3>
				<h4>I love going to parties where I don't know anybody.</h4>
			 	<select data-placeholder="" class="chosen-select soft" id="q7">
			 		<option value=""></option>
		            <option value="1">1 (Strongly Disagree)</option>
		            <option value="2">2</option>
		            <option value="3">3</option>
		            <option value="4">4</option>
		            <option value="5">5 (Strongly Agree)</option>
		      	</select>
            </div><!--form-group-->
            <div class="form-group">
				<h3><strong>Question 8</strong></h3>
				<h4>My friends would describe me as reserved.</h4>
			 	<select data-placeholder="" class="chosen-select soft" id="q8">
			 		<option value=""></option>
		            <option value="1">1 (Strongly Disagree)</option>
		            <option value="2">2</option>
		            <option value="3">3</option>
		            <option value="4">4</option>
		            <option value="5">5 (Strongly Agree)</option>
		      	</select>
            </div><!--form-group-->
            <div class="form-group">
				<h3><strong>Question 9</strong></h3>
				<h4>At work, I follow all the rules and never make waves.</h4>
			 	<select data-placeholder="" class="chosen-select soft" id="q9">
			 		<option value=""></option>
		            <option value="1">1 (Strongly Disagree)</option>
		            <option value="2">2</option>
		            <option value="3">3</option>
		            <option value="4">4</option>
		            <option value="5">5 (Strongly Agree)</option>
		      	</select>
            </div><!--form-group-->
            <div class="form-group">
				<h3><strong>Question 10</strong></h3>
				<h4>I'm not big on animals and don't understand why people have pets.</h4>
			 	<select data-placeholder="" class="chosen-select soft" id="q10">
			 		<option value=""></option>
		            <option value="1">1 (Strongly Disagree)</option>
		            <option value="2">2</option>
		            <option value="3">3</option>
		            <option value="4">4</option>
		            <option value="5">5 (Strongly Agree)</option>
		      	</select>
            </div><!--form-group-->
            <button id="submitButton" type="button" class="btn btn-info btn-block" data-toggle="modal" data-target="#myModal"><span class="glyphicon glyphicon-user"></span> Find a Friend</button>
		</div><!--jumbotron-->
	</div><!--container-->

	<!--modal for displaying friend match-->
	<div id="myModal" class="modal fade">
	    <div class="modal-dialog">
	        <div class="modal-content">
	            <div class="modal-header">
	                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
	                <h3 class="modal-title text-center blue">Did We Just Become Best Friends?</h3>
	            </div><!--modal-header-->
	            <div class="modal-body">
	                <p class="text-center">The peanut butter to your jelly.</p>
	                <p class="text-center">The lime to your Corona.</p>
	                <p class="text-center">How did you make it passed breakfast without knowing the bacon to your eggs?</p>
	                <p class="text-center">You should have <strong>BEEN</strong> hanging with</p>
	                <div id="" class="text-center"></div>
	                <div id="" class="text-center"></div>
	                <p class="text-center">Clearly, a match made in Friend Finder Heaven.</p>
	            </div><!--modal-body-->
	            <div class="modal-footer">
	                <button type="button" class="btn btn-info btn-block" data-dismiss="modal" ><span class="glyphicon glyphicon-remove-circle"> CLOSE</span></button>
	            </div><!--modal-footer-->
	        </div><!--modal-content-->
	    </div><!--modal-dialog-->
	</div><!--myModal-->

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
	<script type="text/javascript">
		//When th esubmit button is clicked
		$("submitButton").on("click", function(event) {
			//stops page from reloading
			event.preventDefault();

			//put user input into an object
			var userInput = {
				name: $("#name").val().trim(),
				photo: $("#photo").val().trim(),
				scores: [
					$("#q1").val().trim(),
					$("#q2").val().trim(),
					$("#q3").val().trim(),
					$("#q4").val().trim(),
					$("#q5").val().trim(),
					$("#q6").val().trim(),
					$("#q7").val().trim(),
					$("#q8").val().trim(),
					$("#q9").val().trim(),
					$("#q10").val().trim()
				]
			};

			console.log(userInput);

			var currentURL = window.location.origin;

			$.post("/api/friends", userInput)
			.done(function(data) {

				$("#matchName").text(data.name);
				$("#matchPhoto").attr("scr", data.photo);
				
			})

		})
	</script>
</body>
</html>